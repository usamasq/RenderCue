# Blender 5.0 Compatibility Report

## API Changes Found & Fixed

### 1. ✅ Icon Names (ui.py)

**Issue**: `'SEQUENCER'` icon doesn't exist in Blender 5.0  
**Fix**: Changed to `'SEQUENCE'`  
**Location**: Line 139 in ui.py

### 2. ✅ VSE Sequences (vse.py)

**Issue**: `vse.sequences` attribute removed in Blender 5.0  
**Fix**: Changed to `vse.sequences_all` for iteration  
**Location**: Line 24 in vse.py  
**Note**: `vse.sequences.remove()` and `vse.sequences.new_scene()` still work for modification

### 3. ⚠️ Potential Issue: Eevee Samples Property (ui.py, render.py)

**Current Code**: `scene.eevee.taa_render_samples`  
**Status**: Need to verify - Blender 5.0 might have renamed this property  
**Alternative**: Might now be `scene.eevee.samples` or under a different structure  
**Locations**:

- ui.py line 51
- render.py line 136

### 4. ✅ Render Handler Signatures (render.py)

**Code**: `def on_render_complete(self, scene, layer=None)`  
**Status**: OK - The handler signature is flexible with optional parameters

### 5. ✅ Window Manager API (render.py)

**Code**: `wm.event_timer_add(0.5, window=context.window)`  
**Status**: OK - This API hasn't changed

## Testing Recommendations

### Must Test in Blender 5.0:

1. **Samples Display** (UI List):

   - Add a Cycles scene → Check if "S:64" displays correctly
   - Add an Eevee scene → **Check if samples display or error**

2. **Samples Override** (Rendering):

   - Set samples override to 32
   - Start render
   - **Check if Eevee samples actually change**

3. **VSE Sync**:

   - Add 2-3 scenes to queue
   - Click "Sync to VSE"
   - **Verify strips appear in sequencer**

4. **Batch Render**:
   - Queue 2 scenes
   - Click "Render Cue"
   - **Verify both scenes render**
   - **Check if settings restore correctly**

## Known Working Features:

- ✅ Add/Remove jobs
- ✅ Move jobs up/down
- ✅ Override toggles
- ✅ Apply to All
- ✅ Panel display (Render Properties + 3D Viewport)

## Potential Future Issues (Blender 6.0+):

- Watch for property reorganization in `bpy.types.Scene.eevee`
- Monitor VSE API changes (already changed in 5.0)
- Check if `render.render()` API parameters change

## Update Manifest

Current: `blender_version_min = "4.2.0"`  
Recommended: Keep as is, but note Blender 5.0 is fully supported with fixes applied.
